{
 "add_total_row": 0, 
 "apply_user_permissions": 1, 
 "creation": "2018-08-08 15:26:16.394161", 
 "disabled": 0, 
 "docstatus": 0, 
 "doctype": "Report", 
 "idx": 0, 
 "is_standard": "Yes", 
 "letter_head": "MIFAD", 
 "modified": "2018-08-08 19:59:48.132656", 
 "modified_by": "Administrator", 
 "module": "HR", 
 "name": "Leave Balances", 
 "owner": "Administrator", 
 "query": "select employee as '\u0643\u0648\u062f \u0627\u0644\u0645\u0648\u0638\u0641::120', employee_name as '\u0625\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641::300', \nsum(if(leave_name=\"\u0625\u0639\u062a\u064a\u0627\u062f\u0649\", total_leaves_allocated-total_leave_days, 0)) as '\u0625\u0639\u062a\u064a\u0627\u062f\u0649::150', \nsum(if(leave_name=\"\u0639\u0627\u0631\u0636\u0629\", total_leaves_allocated-total_leave_days,0)) as '\u0639\u0627\u0631\u0636\u0629::150', \nsum(if(leave_name=\"\u0645\u0631\u0636\u0649\", total_leaves_allocated-total_leave_days,0)) as '\u0645\u0631\u0636\u0649::150'\nfrom (\nselect lal.employee, lal.employee_name, lal.leave_type, lal.total_leaves_allocated, ifnull(la.total_leave_days,0) as total_leave_days, lt.leave_name \nfrom (select employee, employee_name, leave_type, sum(total_leaves_allocated) as total_leaves_allocated from `tabLeave Allocation` \nwhere docstatus=1 and %(rep_date)s>=from_date and %(rep_date)s<=to_date group by employee, leave_type) lal\nleft join (select employee, employee_name, leave_type, sum(total_leave_days) as total_leave_days from `tabLeave Application` \nwhere docstatus=1 and status='Approved' and from_date<=%(rep_date)s and year(from_date)=year(%(rep_date)s) group by employee, leave_type) la\non lal.employee=la.employee and lal.leave_type=la.leave_type\nleft join `tabLeave Type` lt on lal.leave_type=lt.name) a\nwhere employee in (select name from `tabEmployee` where status='Active' and company=%(company)s and business_unit=%(business_unit)s)\ngroup by employee", 
 "ref_doctype": "Leave Allocation", 
 "report_name": "Leave Balances", 
 "report_type": "Query Report", 
 "roles": [
  {
   "role": "HR User"
  }, 
  {
   "role": "HR Manager"
  }, 
  {
   "role": "Leave Manager"
  }
 ]
}