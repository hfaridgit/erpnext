{
 "add_total_row": 0, 
 "apply_user_permissions": 1, 
 "creation": "2018-08-09 16:46:57.896492", 
 "disabled": 0, 
 "docstatus": 0, 
 "doctype": "Report", 
 "idx": 0, 
 "is_standard": "Yes", 
 "letter_head": "MIFAD", 
 "modified": "2018-08-11 00:04:06.697416", 
 "modified_by": "Administrator", 
 "module": "HR", 
 "name": "Salary Sheet", 
 "owner": "Administrator", 
 "query": "select if(idx<99999,employee,'\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u0649 \u0627\u0644\u0639\u0627\u0645') as '\u0643\u0648\u062f\u0627\u0644\u0645\u0648\u0638\u0641::120', if(idx=1,employee_name,'-') as '\u0625\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641::250', if(idx=1,designation,'-') as '\u0627\u0644\u0648\u0638\u064a\u0641\u0629::200', \nif(idx=1,department,'-') as '\u0627\u0644\u0625\u062f\u0627\u0631\u0629::170', ear as '\u0628\u0646\u0648\u062f \u0627\u0644\u0625\u0633\u062a\u062d\u0642\u0627\u0642::170', earnings as '\u0627\u0644\u0625\u0633\u062a\u062d\u0642\u0627\u0642\u0627\u062a::100', \nded as '\u0628\u0646\u0648\u062f \u0627\u0644\u0625\u0633\u062a\u0642\u0637\u0627\u0639::170', deductions as '\u0627\u0644\u0625\u0633\u062a\u0642\u0637\u0627\u0639\u0627\u062a::100', loan as '\u0628\u0646\u0648\u062f \u0627\u0644\u0623\u0642\u0633\u0627\u0637::170', loans as '\u0627\u0644\u0623\u0642\u0633\u0627\u0637::100' from (\nselect 0 as id, a.employee, a.employee_name, a.designation, a.department, a.parent, a.idx,max(a.ear) as ear,if(max(a.earnings)=0,'',max(a.earnings)) as earnings,\nmax(a.ded) as ded,if(max(a.deductions)=0,'',max(a.deductions)) as deductions,\nmax(a.loan) as loan,if(max(a.loans)=0,'',max(a.loans)) as loans\nfrom (\nselect ss.employee, ss.employee_name, ss.designation, ss.department, sd1.parent, sd1.idx, max(if(sd1.parentfield='earnings',sd1.salary_component,'')) as ear, max(if(sd1.parentfield='earnings',sd1.amount,0)) as earnings,  \nmax(if(sd1.parentfield='earnings','',sd1.salary_component)) as ded, max(if(sd1.parentfield='deductions',sd1.amount,0)) as deductions, '' as loan, 0 as loans \nfrom `tabSalary Detail` sd1 \nleft join `tabSalary Slip` ss on ss.name=sd1.parent\nwhere sd1.docstatus=%(docst)s and sd1.do_not_include_in_total=0 and month(ss.end_date)=%(mm)s and ss.salary_slip_type=%(sst)s and ss.company=%(company)s and ss.business_unit=%(business_unit)s\ngroup by parent,idx\nunion all\nselect ss.employee, ss.employee_name, ss.designation, ss.department, sl.parent, sl.idx, '', 0,'',0, el.loan_type, sl.total_payment from `tabSalary Slip Loan` sl\nleft join `tabSalary Slip` ss on ss.name=sl.parent\nleft join `tabEmployee Loan` el on el.name=sl.employee_loan\nwhere sl.docstatus=%(docst)s and month(ss.end_date)=%(mm)s and ss.salary_slip_type=%(sst)s and ss.company=%(company)s and ss.business_unit=%(business_unit)s) a\ngroup by parent,idx\nunion all\nselect 1 as id, ss.employee, ss.employee_name, ss.designation, ss.department, ss.name, 999, '\u0625\u062c\u0645\u0627\u0644\u0649 \u0627\u0644\u0625\u0633\u062a\u062d\u0642\u0627\u0642\u0627\u062a', ss.gross_pay, '\u0625\u062c\u0645\u0627\u0644\u0649 \u0627\u0644\u0625\u0633\u062a\u0642\u0637\u0627\u0639\u0627\u062a', ss.total_deduction, '\u0625\u062c\u0645\u0627\u0644\u0649 \u0627\u0644\u0623\u0642\u0633\u0627\u0637', ss.total_loan_repayment from `tabSalary Slip` ss\nwhere ss.docstatus=%(docst)s and month(ss.end_date)=%(mm)s and ss.salary_slip_type=%(sst)s and ss.company=%(company)s and ss.business_unit=%(business_unit)s\nunion all\nselect 9 as id, '9999999999', '','','','', 99999, '\u0625\u062c\u0645\u0627\u0644\u0649 \u0627\u0644\u0625\u0633\u062a\u062d\u0642\u0627\u0642\u0627\u062a ', sum(ss.gross_pay), '\u0625\u062c\u0645\u0627\u0644\u0649 \u0627\u0644\u0625\u0633\u062a\u0642\u0637\u0627\u0639\u0627\u062a ', sum(ss.total_deduction), '\u0625\u062c\u0645\u0627\u0644\u0649 \u0627\u0644\u0623\u0642\u0633\u0627\u0637 ', sum(ss.total_loan_repayment) from `tabSalary Slip` ss\nwhere ss.docstatus=%(docst)s and month(ss.end_date)=%(mm)s and ss.salary_slip_type=%(sst)s and ss.company=%(company)s and ss.business_unit=%(business_unit)s\norder by employee, id, parent,idx) h \n\n", 
 "ref_doctype": "Salary Slip", 
 "report_name": "Salary Sheet", 
 "report_type": "Query Report", 
 "roles": [
  {
   "role": "Salary Structure & Salary Slip"
  }
 ]
}